let limExp = { // east richmond
	"_id" : ObjectId("5e740b994fdfeda53efaaaeb"),
	"mode" : "metro train",
	"routeName" : "Lilydale",
	"shortRouteName" : null,
	"tripID" : "8724.T6.2-LIL-C-mjp-1.55.R",
	"routeGTFSID" : "2-LIL",
	"operationDays" : [
		"20200313"
	],
	"stopTimings" : [
		{
			"stopName" : "Blackburn Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855baaa"),
			"stopGTFSID" : 19898,
			"arrivalTime" : null,
			"arrivalTimeMinutes" : null,
			"departureTime" : "17:22",
			"departureTimeMinutes" : 1042,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 0,
			"stopSequence" : 1
		},
		{
			"stopName" : "Laburnum Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855baa9"),
			"stopGTFSID" : 19897,
			"arrivalTime" : "17:24",
			"arrivalTimeMinutes" : 1044,
			"departureTime" : "17:24",
			"departureTimeMinutes" : 1044,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 848,
			"stopSequence" : 2
		},
		{
			"stopName" : "Box Hill Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b65a37339a53855bb32"),
			"stopGTFSID" : 20042,
			"arrivalTime" : "17:27",
			"arrivalTimeMinutes" : 1047,
			"departureTime" : "17:27",
			"departureTimeMinutes" : 1047,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 2586,
			"stopSequence" : 3
		},
		{
			"stopName" : "Mont Albert Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855baa8"),
			"stopGTFSID" : 19896,
			"arrivalTime" : "17:29",
			"arrivalTimeMinutes" : 1049,
			"departureTime" : "17:29",
			"departureTimeMinutes" : 1049,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 4022,
			"stopSequence" : 4
		},
		{
			"stopName" : "Surrey Hills Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855baa7"),
			"stopGTFSID" : 19895,
			"arrivalTime" : "17:30",
			"arrivalTimeMinutes" : 1050,
			"departureTime" : "17:30",
			"departureTimeMinutes" : 1050,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 4818,
			"stopSequence" : 5
		},
		{
			"stopName" : "Chatham Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855baa6"),
			"stopGTFSID" : 19894,
			"arrivalTime" : "17:32",
			"arrivalTimeMinutes" : 1052,
			"departureTime" : "17:32",
			"departureTimeMinutes" : 1052,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 5730,
			"stopSequence" : 6
		},
		{
			"stopName" : "Canterbury Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855baa5"),
			"stopGTFSID" : 19893,
			"arrivalTime" : "17:34",
			"arrivalTimeMinutes" : 1054,
			"departureTime" : "17:34",
			"departureTimeMinutes" : 1054,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 6411,
			"stopSequence" : 7
		},
		{
			"stopName" : "East Camberwell Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855baa4"),
			"stopGTFSID" : 19892,
			"arrivalTime" : "17:36",
			"arrivalTimeMinutes" : 1056,
			"departureTime" : "17:36",
			"departureTimeMinutes" : 1056,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 7601,
			"stopSequence" : 8
		},
		{
			"stopName" : "Camberwell Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855ba7d"),
			"stopGTFSID" : 19853,
			"arrivalTime" : "17:38",
			"arrivalTimeMinutes" : 1058,
			"departureTime" : "17:38",
			"departureTimeMinutes" : 1058,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 8442,
			"stopSequence" : 9
		},
		{
			"stopName" : "Auburn Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855baaf"),
			"stopGTFSID" : 19903,
			"arrivalTime" : "17:40",
			"arrivalTimeMinutes" : 1060,
			"departureTime" : "17:40",
			"departureTimeMinutes" : 1060,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 9709,
			"stopSequence" : 10
		},
		{
			"stopName" : "Glenferrie Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855bab0"),
			"stopGTFSID" : 19904,
			"arrivalTime" : "17:42",
			"arrivalTimeMinutes" : 1062,
			"departureTime" : "17:42",
			"departureTimeMinutes" : 1062,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 10542,
			"stopSequence" : 11
		},
		{
			"stopName" : "Hawthorn Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855bab1"),
			"stopGTFSID" : 19905,
			"arrivalTime" : "17:44",
			"arrivalTimeMinutes" : 1064,
			"departureTime" : "17:44",
			"departureTimeMinutes" : 1064,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 11771,
			"stopSequence" : 12
		},
		{
			"stopName" : "Burnley Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855bab2"),
			"stopGTFSID" : 19906,
			"arrivalTime" : "17:46",
			"arrivalTimeMinutes" : 1066,
			"departureTime" : "17:46",
			"departureTimeMinutes" : 1066,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 13353,
			"stopSequence" : 13
		},
		{
			"stopName" : "Richmond Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855bab4"),
			"stopGTFSID" : 19908,
			"arrivalTime" : "17:49",
			"arrivalTimeMinutes" : 1069,
			"departureTime" : "17:49",
			"departureTimeMinutes" : 1069,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 14967,
			"stopSequence" : 15
		},
		{
			"stopName" : "Flinders Street Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855ba7e"),
			"stopGTFSID" : 19854,
			"arrivalTime" : "17:53",
			"arrivalTimeMinutes" : 1073,
			"departureTime" : null,
			"departureTimeMinutes" : null,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 17262,
			"stopSequence" : 16
		}
	],
	"destination" : "Flinders Street Railway Station",
	"departureTime" : "17:22",
	"destinationArrivalTime" : "17:53",
	"origin" : "Blackburn Railway Station",
	"direction" : "Up",
	"gtfsDirection" : "1",
	"shapeID" : "2-LIL-C-mjp-1.55.R",
	"tripStartMinute" : 1042,
	"tripEndMinute" : 1073
}

let exp ={
	"_id" : ObjectId("5e740b8c4fdfeda53efa8982"),
	"mode" : "metro train",
	"routeName" : "Belgrave",
	"shortRouteName" : null,
	"tripID" : "8100.T6.2-BEL-C-mjp-1.37.R",
	"routeGTFSID" : "2-BEL",
	"operationDays" : [
		"20200313"
	],
	"stopTimings" : [
		{
			"stopName" : "Belgrave Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855ba74"),
			"stopGTFSID" : 19844,
			"arrivalTime" : null,
			"arrivalTimeMinutes" : null,
			"departureTime" : "16:14",
			"departureTimeMinutes" : 974,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 0,
			"stopSequence" : 1
		},
		{
			"stopName" : "Tecoma Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855ba75"),
			"stopGTFSID" : 19845,
			"arrivalTime" : "16:16",
			"arrivalTimeMinutes" : 976,
			"departureTime" : "16:16",
			"departureTimeMinutes" : 976,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 1195,
			"stopSequence" : 2
		},
		{
			"stopName" : "Upwey Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855ba76"),
			"stopGTFSID" : 19846,
			"arrivalTime" : "16:18",
			"arrivalTimeMinutes" : 978,
			"departureTime" : "16:18",
			"departureTimeMinutes" : 978,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 2355,
			"stopSequence" : 3
		},
		{
			"stopName" : "Upper Ferntree Gully Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855ba8b"),
			"stopGTFSID" : 19867,
			"arrivalTime" : "16:22",
			"arrivalTimeMinutes" : 982,
			"departureTime" : "16:22",
			"departureTimeMinutes" : 982,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 4870,
			"stopSequence" : 4
		},
		{
			"stopName" : "Ferntree Gully Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855ba8c"),
			"stopGTFSID" : 19868,
			"arrivalTime" : "16:25",
			"arrivalTimeMinutes" : 985,
			"departureTime" : "16:25",
			"departureTimeMinutes" : 985,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 6600,
			"stopSequence" : 5
		},
		{
			"stopName" : "Boronia Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855ba8d"),
			"stopGTFSID" : 19869,
			"arrivalTime" : "16:27",
			"arrivalTimeMinutes" : 987,
			"departureTime" : "16:27",
			"departureTimeMinutes" : 987,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 9164,
			"stopSequence" : 6
		},
		{
			"stopName" : "Bayswater Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855ba8e"),
			"stopGTFSID" : 19870,
			"arrivalTime" : "16:30",
			"arrivalTimeMinutes" : 990,
			"departureTime" : "16:30",
			"departureTimeMinutes" : 990,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 11701,
			"stopSequence" : 7
		},
		{
			"stopName" : "Heathmont Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855ba8f"),
			"stopGTFSID" : 19871,
			"arrivalTime" : "16:34",
			"arrivalTimeMinutes" : 994,
			"departureTime" : "16:34",
			"departureTimeMinutes" : 994,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 14413,
			"stopSequence" : 8
		},
		{
			"stopName" : "Ringwood Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855baae"),
			"stopGTFSID" : 19902,
			"arrivalTime" : "16:37",
			"arrivalTimeMinutes" : 997,
			"departureTime" : "16:37",
			"departureTimeMinutes" : 997,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 16779,
			"stopSequence" : 9
		},
		{
			"stopName" : "Heatherdale Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855baad"),
			"stopGTFSID" : 19901,
			"arrivalTime" : "16:39",
			"arrivalTimeMinutes" : 999,
			"departureTime" : "16:39",
			"departureTimeMinutes" : 999,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 18197,
			"stopSequence" : 10
		},
		{
			"stopName" : "Mitcham Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855baac"),
			"stopGTFSID" : 19900,
			"arrivalTime" : "16:41",
			"arrivalTimeMinutes" : 1001,
			"departureTime" : "16:41",
			"departureTimeMinutes" : 1001,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 20101,
			"stopSequence" : 11
		},
		{
			"stopName" : "Nunawading Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855baab"),
			"stopGTFSID" : 19899,
			"arrivalTime" : "16:44",
			"arrivalTimeMinutes" : 1004,
			"departureTime" : "16:44",
			"departureTimeMinutes" : 1004,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 21629,
			"stopSequence" : 12
		},
		{
			"stopName" : "Blackburn Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855baaa"),
			"stopGTFSID" : 19898,
			"arrivalTime" : "16:47",
			"arrivalTimeMinutes" : 1007,
			"departureTime" : "16:47",
			"departureTimeMinutes" : 1007,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 23843,
			"stopSequence" : 13
		},
		{
			"stopName" : "Laburnum Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855baa9"),
			"stopGTFSID" : 19897,
			"arrivalTime" : "16:49",
			"arrivalTimeMinutes" : 1009,
			"departureTime" : "16:49",
			"departureTimeMinutes" : 1009,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 24692,
			"stopSequence" : 14
		},
		{
			"stopName" : "Box Hill Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b65a37339a53855bb32"),
			"stopGTFSID" : 20042,
			"arrivalTime" : "16:52",
			"arrivalTimeMinutes" : 1012,
			"departureTime" : "16:52",
			"departureTimeMinutes" : 1012,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 26429,
			"stopSequence" : 15
		},
		{
			"stopName" : "Camberwell Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855ba7d"),
			"stopGTFSID" : 19853,
			"arrivalTime" : "16:59",
			"arrivalTimeMinutes" : 1019,
			"departureTime" : "16:59",
			"departureTimeMinutes" : 1019,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 32286,
			"stopSequence" : 21
		},
		{
			"stopName" : "Glenferrie Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855bab0"),
			"stopGTFSID" : 19904,
			"arrivalTime" : "17:02",
			"arrivalTimeMinutes" : 1022,
			"departureTime" : "17:02",
			"departureTimeMinutes" : 1022,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 34385,
			"stopSequence" : 23
		},
		{
			"stopName" : "Richmond Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855bab4"),
			"stopGTFSID" : 19908,
			"arrivalTime" : "17:08",
			"arrivalTimeMinutes" : 1028,
			"departureTime" : "17:08",
			"departureTimeMinutes" : 1028,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 38810,
			"stopSequence" : 27
		},
		{
			"stopName" : "Flinders Street Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855ba7e"),
			"stopGTFSID" : 19854,
			"arrivalTime" : "17:12",
			"arrivalTimeMinutes" : 1032,
			"departureTime" : null,
			"departureTimeMinutes" : null,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 41105,
			"stopSequence" : 28
		}
	],
	"destination" : "Flinders Street Railway Station",
	"departureTime" : "16:14",
	"destinationArrivalTime" : "17:12",
	"origin" : "Belgrave Railway Station",
	"direction" : "Up",
	"gtfsDirection" : "1",
	"shapeID" : "2-BEL-C-mjp-1.37.R",
	"tripStartMinute" : 974,
	"tripEndMinute" : 1032
}
let stopsAll = {
	"_id" : ObjectId("5e740ba84fdfeda53efac652"),
	"mode" : "metro train",
	"routeName" : "Pakenham",
	"shortRouteName" : null,
	"tripID" : "403.T6.2-PKM-C-mjp-1.22.R",
	"routeGTFSID" : "2-PKM",
	"operationDays" : [
		"20200313"
	],
	"stopTimings" : [
		{
			"stopName" : "Pakenham Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855ba98"),
			"stopGTFSID" : 19880,
			"arrivalTime" : null,
			"arrivalTimeMinutes" : null,
			"departureTime" : "04:12",
			"departureTimeMinutes" : 252,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 0,
			"stopSequence" : 1
		},
		{
			"stopName" : "Cardinia Road Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b65a37339a53855bb38"),
			"stopGTFSID" : 45794,
			"arrivalTime" : "04:17",
			"arrivalTimeMinutes" : 257,
			"departureTime" : "04:17",
			"departureTimeMinutes" : 257,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 4377,
			"stopSequence" : 2
		},
		{
			"stopName" : "Officer Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855ba99"),
			"stopGTFSID" : 19881,
			"arrivalTime" : "04:19",
			"arrivalTimeMinutes" : 259,
			"departureTime" : "04:19",
			"departureTimeMinutes" : 259,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 6791,
			"stopSequence" : 3
		},
		{
			"stopName" : "Beaconsfield Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855ba9a"),
			"stopGTFSID" : 19882,
			"arrivalTime" : "04:24",
			"arrivalTimeMinutes" : 264,
			"departureTime" : "04:24",
			"departureTimeMinutes" : 264,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 11193,
			"stopSequence" : 4
		},
		{
			"stopName" : "Berwick Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855ba9b"),
			"stopGTFSID" : 19883,
			"arrivalTime" : "04:26",
			"arrivalTimeMinutes" : 266,
			"departureTime" : "04:26",
			"departureTimeMinutes" : 266,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 13445,
			"stopSequence" : 5
		},
		{
			"stopName" : "Narre Warren Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855ba9c"),
			"stopGTFSID" : 19884,
			"arrivalTime" : "04:30",
			"arrivalTimeMinutes" : 270,
			"departureTime" : "04:30",
			"departureTimeMinutes" : 270,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 17413,
			"stopSequence" : 6
		},
		{
			"stopName" : "Hallam Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855ba9d"),
			"stopGTFSID" : 19885,
			"arrivalTime" : "04:34",
			"arrivalTimeMinutes" : 274,
			"departureTime" : "04:34",
			"departureTimeMinutes" : 274,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 20686,
			"stopSequence" : 7
		},
		{
			"stopName" : "Dandenong Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855baa0"),
			"stopGTFSID" : 19888,
			"arrivalTime" : "04:39",
			"arrivalTimeMinutes" : 279,
			"departureTime" : "04:39",
			"departureTimeMinutes" : 279,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 27027,
			"stopSequence" : 8
		},
		{
			"stopName" : "Yarraman Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855baa1"),
			"stopGTFSID" : 19889,
			"arrivalTime" : "04:42",
			"arrivalTimeMinutes" : 282,
			"departureTime" : "04:42",
			"departureTimeMinutes" : 282,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 29017,
			"stopSequence" : 9
		},
		{
			"stopName" : "Noble Park Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855baa2"),
			"stopGTFSID" : 19890,
			"arrivalTime" : "04:44",
			"arrivalTimeMinutes" : 284,
			"departureTime" : "04:44",
			"departureTimeMinutes" : 284,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 30794,
			"stopSequence" : 10
		},
		{
			"stopName" : "Sandown Park Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855baa3"),
			"stopGTFSID" : 19891,
			"arrivalTime" : "04:47",
			"arrivalTimeMinutes" : 287,
			"departureTime" : "04:47",
			"departureTimeMinutes" : 287,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 32513,
			"stopSequence" : 11
		},
		{
			"stopName" : "Springvale Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855bab9"),
			"stopGTFSID" : 19913,
			"arrivalTime" : "04:49",
			"arrivalTimeMinutes" : 289,
			"departureTime" : "04:49",
			"departureTimeMinutes" : 289,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 33645,
			"stopSequence" : 12
		},
		{
			"stopName" : "Westall Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855baba"),
			"stopGTFSID" : 19914,
			"arrivalTime" : "04:51",
			"arrivalTimeMinutes" : 291,
			"departureTime" : "04:51",
			"departureTimeMinutes" : 291,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 35418,
			"stopSequence" : 13
		},
		{
			"stopName" : "Clayton Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855babb"),
			"stopGTFSID" : 19915,
			"arrivalTime" : "04:53",
			"arrivalTimeMinutes" : 293,
			"departureTime" : "04:53",
			"departureTimeMinutes" : 293,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 37639,
			"stopSequence" : 14
		},
		{
			"stopName" : "Huntingdale Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855babc"),
			"stopGTFSID" : 19916,
			"arrivalTime" : "04:56",
			"arrivalTimeMinutes" : 296,
			"departureTime" : "04:56",
			"departureTimeMinutes" : 296,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 39841,
			"stopSequence" : 15
		},
		{
			"stopName" : "Oakleigh Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855babd"),
			"stopGTFSID" : 19917,
			"arrivalTime" : "04:58",
			"arrivalTimeMinutes" : 298,
			"departureTime" : "04:58",
			"departureTimeMinutes" : 298,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 41551,
			"stopSequence" : 16
		},
		{
			"stopName" : "Hughesdale Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855babe"),
			"stopGTFSID" : 19918,
			"arrivalTime" : "05:00",
			"arrivalTimeMinutes" : 300,
			"departureTime" : "05:00",
			"departureTimeMinutes" : 300,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 42675,
			"stopSequence" : 17
		},
		{
			"stopName" : "Murrumbeena Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855babf"),
			"stopGTFSID" : 19919,
			"arrivalTime" : "05:02",
			"arrivalTimeMinutes" : 302,
			"departureTime" : "05:02",
			"departureTimeMinutes" : 302,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 43715,
			"stopSequence" : 18
		},
		{
			"stopName" : "Carnegie Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855bac0"),
			"stopGTFSID" : 19920,
			"arrivalTime" : "05:04",
			"arrivalTimeMinutes" : 304,
			"departureTime" : "05:04",
			"departureTimeMinutes" : 304,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 44604,
			"stopSequence" : 19
		},
		{
			"stopName" : "Caulfield Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b65a37339a53855bad7"),
			"stopGTFSID" : 19943,
			"arrivalTime" : "05:07",
			"arrivalTimeMinutes" : 307,
			"departureTime" : "05:07",
			"departureTimeMinutes" : 307,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 46323,
			"stopSequence" : 20
		},
		{
			"stopName" : "Malvern Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b65a37339a53855bad8"),
			"stopGTFSID" : 19944,
			"arrivalTime" : "05:10",
			"arrivalTimeMinutes" : 310,
			"departureTime" : "05:10",
			"departureTimeMinutes" : 310,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 48029,
			"stopSequence" : 21
		},
		{
			"stopName" : "Armadale Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b65a37339a53855bad9"),
			"stopGTFSID" : 19945,
			"arrivalTime" : "05:12",
			"arrivalTimeMinutes" : 312,
			"departureTime" : "05:12",
			"departureTimeMinutes" : 312,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 49428,
			"stopSequence" : 22
		},
		{
			"stopName" : "Toorak Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b65a37339a53855bada"),
			"stopGTFSID" : 19946,
			"arrivalTime" : "05:13",
			"arrivalTimeMinutes" : 313,
			"departureTime" : "05:13",
			"departureTimeMinutes" : 313,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 50218,
			"stopSequence" : 23
		},
		{
			"stopName" : "Hawksburn Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b65a37339a53855badb"),
			"stopGTFSID" : 19947,
			"arrivalTime" : "05:15",
			"arrivalTimeMinutes" : 315,
			"departureTime" : "05:15",
			"departureTimeMinutes" : 315,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 51480,
			"stopSequence" : 24
		},
		{
			"stopName" : "South Yarra Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b65a37339a53855bae7"),
			"stopGTFSID" : 19959,
			"arrivalTime" : "05:18",
			"arrivalTimeMinutes" : 318,
			"departureTime" : "05:18",
			"departureTimeMinutes" : 318,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 52661,
			"stopSequence" : 25
		},
		{
			"stopName" : "Richmond Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855bab4"),
			"stopGTFSID" : 19908,
			"arrivalTime" : "05:20",
			"arrivalTimeMinutes" : 320,
			"departureTime" : "05:20",
			"departureTimeMinutes" : 320,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 54416,
			"stopSequence" : 26
		},
		{
			"stopName" : "Parliament Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855ba73"),
			"stopGTFSID" : 19843,
			"arrivalTime" : "05:23",
			"arrivalTimeMinutes" : 323,
			"departureTime" : "05:23",
			"departureTimeMinutes" : 323,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 56621,
			"stopSequence" : 27
		},
		{
			"stopName" : "Melbourne Central Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855ba72"),
			"stopGTFSID" : 19842,
			"arrivalTime" : "05:25",
			"arrivalTimeMinutes" : 325,
			"departureTime" : "05:25",
			"departureTimeMinutes" : 325,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 57770,
			"stopSequence" : 28
		},
		{
			"stopName" : "Flagstaff Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855ba71"),
			"stopGTFSID" : 19841,
			"arrivalTime" : "05:27",
			"arrivalTimeMinutes" : 327,
			"departureTime" : "05:27",
			"departureTimeMinutes" : 327,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 58422,
			"stopSequence" : 29
		},
		{
			"stopName" : "Southern Cross Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b65a37339a53855bb33"),
			"stopGTFSID" : 22180,
			"arrivalTime" : "05:29",
			"arrivalTimeMinutes" : 329,
			"departureTime" : "05:29",
			"departureTimeMinutes" : 329,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 59548,
			"stopSequence" : 30
		},
		{
			"stopName" : "Flinders Street Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855ba7e"),
			"stopGTFSID" : 19854,
			"arrivalTime" : "05:33",
			"arrivalTimeMinutes" : 333,
			"departureTime" : null,
			"departureTimeMinutes" : null,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 61082,
			"stopSequence" : 31
		}
	],
	"destination" : "Flinders Street Railway Station",
	"departureTime" : "04:12",
	"destinationArrivalTime" : "05:33",
	"origin" : "Pakenham Railway Station",
	"direction" : "Up",
	"gtfsDirection" : "1",
	"shapeID" : "2-PKM-C-mjp-1.22.R",
	"tripStartMinute" : 252,
	"tripEndMinute" : 333
}

let pkmExp = {
	"_id" : ObjectId("5e740ba84fdfeda53efac6ca"),
	"mode" : "metro train",
	"routeName" : "Pakenham",
	"shortRouteName" : null,
	"tripID" : "553.T6.2-PKM-C-mjp-1.28.R",
	"routeGTFSID" : "2-PKM",
	"operationDays" : [
		"20200313"
	],
	"stopTimings" : [
		{
			"stopName" : "Pakenham Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855ba98"),
			"stopGTFSID" : 19880,
			"arrivalTime" : null,
			"arrivalTimeMinutes" : null,
			"departureTime" : "07:31",
			"departureTimeMinutes" : 451,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 0,
			"stopSequence" : 1
		},
		{
			"stopName" : "Cardinia Road Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b65a37339a53855bb38"),
			"stopGTFSID" : 45794,
			"arrivalTime" : "07:36",
			"arrivalTimeMinutes" : 456,
			"departureTime" : "07:36",
			"departureTimeMinutes" : 456,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 4377,
			"stopSequence" : 2
		},
		{
			"stopName" : "Officer Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855ba99"),
			"stopGTFSID" : 19881,
			"arrivalTime" : "07:38",
			"arrivalTimeMinutes" : 458,
			"departureTime" : "07:38",
			"departureTimeMinutes" : 458,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 6791,
			"stopSequence" : 3
		},
		{
			"stopName" : "Beaconsfield Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855ba9a"),
			"stopGTFSID" : 19882,
			"arrivalTime" : "07:43",
			"arrivalTimeMinutes" : 463,
			"departureTime" : "07:43",
			"departureTimeMinutes" : 463,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 11193,
			"stopSequence" : 4
		},
		{
			"stopName" : "Berwick Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855ba9b"),
			"stopGTFSID" : 19883,
			"arrivalTime" : "07:45",
			"arrivalTimeMinutes" : 465,
			"departureTime" : "07:45",
			"departureTimeMinutes" : 465,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 13445,
			"stopSequence" : 5
		},
		{
			"stopName" : "Narre Warren Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855ba9c"),
			"stopGTFSID" : 19884,
			"arrivalTime" : "07:49",
			"arrivalTimeMinutes" : 469,
			"departureTime" : "07:49",
			"departureTimeMinutes" : 469,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 17413,
			"stopSequence" : 6
		},
		{
			"stopName" : "Hallam Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855ba9d"),
			"stopGTFSID" : 19885,
			"arrivalTime" : "07:53",
			"arrivalTimeMinutes" : 473,
			"departureTime" : "07:53",
			"departureTimeMinutes" : 473,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 20686,
			"stopSequence" : 7
		},
		{
			"stopName" : "Dandenong Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855baa0"),
			"stopGTFSID" : 19888,
			"arrivalTime" : "07:58",
			"arrivalTimeMinutes" : 478,
			"departureTime" : "07:58",
			"departureTimeMinutes" : 478,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 27027,
			"stopSequence" : 8
		},
		{
			"stopName" : "Noble Park Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855baa2"),
			"stopGTFSID" : 19890,
			"arrivalTime" : "08:03",
			"arrivalTimeMinutes" : 483,
			"departureTime" : "08:03",
			"departureTimeMinutes" : 483,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 30794,
			"stopSequence" : 10
		},
		{
			"stopName" : "Sandown Park Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855baa3"),
			"stopGTFSID" : 19891,
			"arrivalTime" : "08:06",
			"arrivalTimeMinutes" : 486,
			"departureTime" : "08:06",
			"departureTimeMinutes" : 486,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 32513,
			"stopSequence" : 11
		},
		{
			"stopName" : "Springvale Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855bab9"),
			"stopGTFSID" : 19913,
			"arrivalTime" : "08:08",
			"arrivalTimeMinutes" : 488,
			"departureTime" : "08:08",
			"departureTimeMinutes" : 488,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 33645,
			"stopSequence" : 12
		},
		{
			"stopName" : "Clayton Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855babb"),
			"stopGTFSID" : 19915,
			"arrivalTime" : "08:13",
			"arrivalTimeMinutes" : 493,
			"departureTime" : "08:13",
			"departureTimeMinutes" : 493,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 37639,
			"stopSequence" : 14
		},
		{
			"stopName" : "Huntingdale Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855babc"),
			"stopGTFSID" : 19916,
			"arrivalTime" : "08:16",
			"arrivalTimeMinutes" : 496,
			"departureTime" : "08:16",
			"departureTimeMinutes" : 496,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 39841,
			"stopSequence" : 15
		},
		{
			"stopName" : "Oakleigh Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855babd"),
			"stopGTFSID" : 19917,
			"arrivalTime" : "08:18",
			"arrivalTimeMinutes" : 498,
			"departureTime" : "08:18",
			"departureTimeMinutes" : 498,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 41551,
			"stopSequence" : 16
		},
		{
			"stopName" : "Hughesdale Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855babe"),
			"stopGTFSID" : 19918,
			"arrivalTime" : "08:20",
			"arrivalTimeMinutes" : 500,
			"departureTime" : "08:20",
			"departureTimeMinutes" : 500,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 42675,
			"stopSequence" : 17
		},
		{
			"stopName" : "Murrumbeena Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855babf"),
			"stopGTFSID" : 19919,
			"arrivalTime" : "08:22",
			"arrivalTimeMinutes" : 502,
			"departureTime" : "08:22",
			"departureTimeMinutes" : 502,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 43715,
			"stopSequence" : 18
		},
		{
			"stopName" : "Carnegie Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855bac0"),
			"stopGTFSID" : 19920,
			"arrivalTime" : "08:24",
			"arrivalTimeMinutes" : 504,
			"departureTime" : "08:24",
			"departureTimeMinutes" : 504,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 44604,
			"stopSequence" : 19
		},
		{
			"stopName" : "Caulfield Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b65a37339a53855bad7"),
			"stopGTFSID" : 19943,
			"arrivalTime" : "08:28",
			"arrivalTimeMinutes" : 508,
			"departureTime" : "08:28",
			"departureTimeMinutes" : 508,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 46323,
			"stopSequence" : 20
		},
		{
			"stopName" : "South Yarra Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b65a37339a53855bae7"),
			"stopGTFSID" : 19959,
			"arrivalTime" : "08:36",
			"arrivalTimeMinutes" : 516,
			"departureTime" : "08:36",
			"departureTimeMinutes" : 516,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 52661,
			"stopSequence" : 25
		},
		{
			"stopName" : "Richmond Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855bab4"),
			"stopGTFSID" : 19908,
			"arrivalTime" : "08:39",
			"arrivalTimeMinutes" : 519,
			"departureTime" : "08:39",
			"departureTimeMinutes" : 519,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 54416,
			"stopSequence" : 26
		},
		{
			"stopName" : "Parliament Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855ba73"),
			"stopGTFSID" : 19843,
			"arrivalTime" : "08:43",
			"arrivalTimeMinutes" : 523,
			"departureTime" : "08:43",
			"departureTimeMinutes" : 523,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 56621,
			"stopSequence" : 27
		},
		{
			"stopName" : "Melbourne Central Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855ba72"),
			"stopGTFSID" : 19842,
			"arrivalTime" : "08:45",
			"arrivalTimeMinutes" : 525,
			"departureTime" : "08:45",
			"departureTimeMinutes" : 525,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 57770,
			"stopSequence" : 28
		},
		{
			"stopName" : "Flagstaff Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855ba71"),
			"stopGTFSID" : 19841,
			"arrivalTime" : "08:47",
			"arrivalTimeMinutes" : 527,
			"departureTime" : "08:47",
			"departureTimeMinutes" : 527,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 58422,
			"stopSequence" : 29
		},
		{
			"stopName" : "Southern Cross Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b65a37339a53855bb33"),
			"stopGTFSID" : 22180,
			"arrivalTime" : "08:49",
			"arrivalTimeMinutes" : 529,
			"departureTime" : "08:49",
			"departureTimeMinutes" : 529,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 59548,
			"stopSequence" : 30
		},
		{
			"stopName" : "Flinders Street Railway Station",
			"stopNumber" : null,
			"stopID" : ObjectId("5e740b64a37339a53855ba7e"),
			"stopGTFSID" : 19854,
			"arrivalTime" : "08:53",
			"arrivalTimeMinutes" : 533,
			"departureTime" : null,
			"departureTimeMinutes" : null,
			"stopConditions" : {
				"pickup" : "0",
				"dropoff" : "0"
			},
			"stopDistance" : 61082,
			"stopSequence" : 31
		}
	],
	"destination" : "Flinders Street Railway Station",
	"departureTime" : "07:31",
	"destinationArrivalTime" : "08:53",
	"origin" : "Pakenham Railway Station",
	"direction" : "Up",
	"gtfsDirection" : "1",
	"shapeID" : "2-PKM-C-mjp-1.28.R",
	"tripStartMinute" : 451,
	"tripEndMinute" : 533
}


let belgStops=[
				{
					"stopName" : "Belgrave Railway Station",
					"stopGTFSID" : 19844
				},
				{
					"stopName" : "Tecoma Railway Station",
					"stopGTFSID" : 19845
				},
				{
					"stopName" : "Upwey Railway Station",
					"stopGTFSID" : 19846
				},
				{
					"stopName" : "Upper Ferntree Gully Railway Station",
					"stopGTFSID" : 19867
				},
				{
					"stopName" : "Ferntree Gully Railway Station",
					"stopGTFSID" : 19868
				},
				{
					"stopName" : "Boronia Railway Station",
					"stopGTFSID" : 19869
				},
				{
					"stopName" : "Bayswater Railway Station",
					"stopGTFSID" : 19870
				},
				{
					"stopName" : "Heathmont Railway Station",
					"stopGTFSID" : 19871
				},
				{
					"stopName" : "Ringwood Railway Station",
					"stopGTFSID" : 19902
				},
				{
					"stopName" : "Heatherdale Railway Station",
					"stopGTFSID" : 19901
				},
				{
					"stopName" : "Mitcham Railway Station",
					"stopGTFSID" : 19900
				},
				{
					"stopName" : "Nunawading Railway Station",
					"stopGTFSID" : 19899
				},
				{
					"stopName" : "Blackburn Railway Station",
					"stopGTFSID" : 19898
				},
				{
					"stopName" : "Laburnum Railway Station",
					"stopGTFSID" : 19897
				},
				{
					"stopName" : "Box Hill Railway Station",
					"stopGTFSID" : 20042
				},
				{
					"stopName" : "Mont Albert Railway Station",
					"stopGTFSID" : 19896
				},
				{
					"stopName" : "Surrey Hills Railway Station",
					"stopGTFSID" : 19895
				},
				{
					"stopName" : "Chatham Railway Station",
					"stopGTFSID" : 19894
				},
				{
					"stopName" : "Canterbury Railway Station",
					"stopGTFSID" : 19893
				},
				{
					"stopName" : "East Camberwell Railway Station",
					"stopGTFSID" : 19892
				},
				{
					"stopName" : "Camberwell Railway Station",
					"stopGTFSID" : 19853
				},
				{
					"stopName" : "Auburn Railway Station",
					"stopGTFSID" : 19903
				},
				{
					"stopName" : "Glenferrie Railway Station",
					"stopGTFSID" : 19904
				},
				{
					"stopName" : "Hawthorn Railway Station",
					"stopGTFSID" : 19905
				},
				{
					"stopName" : "Burnley Railway Station",
					"stopGTFSID" : 19906
				},
				{
					"stopName" : "East Richmond Railway Station",
					"stopGTFSID" : 19907
				},
				{
					"stopName" : "Richmond Railway Station",
					"stopGTFSID" : 19908
				},
				{
					"stopName" : "Parliament Railway Station",
					"stopGTFSID" : 19843
				},
				{
					"stopName" : "Melbourne Central Railway Station",
					"stopGTFSID" : 19842
				},
				{
					"stopName" : "Flagstaff Railway Station",
					"stopGTFSID" : 19841
				},
				{
					"stopName" : "Southern Cross Railway Station",
					"stopGTFSID" : 22180
				},
				{
					"stopName" : "Flinders Street Railway Station",
					"stopGTFSID" : 19854
				},
				{
					"stopName" : "Southern Cross Railway Station",
					"stopGTFSID" : 22180
				},
				{
					"stopName" : "Flagstaff Railway Station",
					"stopGTFSID" : 19841
				},
				{
					"stopName" : "Melbourne Central Railway Station",
					"stopGTFSID" : 19842
				},
				{
					"stopName" : "Parliament Railway Station",
					"stopGTFSID" : 19843
				}
			]

let pkmStops=[
				{
					"stopName" : "Pakenham Railway Station",
					"stopGTFSID" : 19880
				},
				{
					"stopName" : "Cardinia Road Railway Station",
					"stopGTFSID" : 45794
				},
				{
					"stopName" : "Officer Railway Station",
					"stopGTFSID" : 19881
				},
				{
					"stopName" : "Beaconsfield Railway Station",
					"stopGTFSID" : 19882
				},
				{
					"stopName" : "Berwick Railway Station",
					"stopGTFSID" : 19883
				},
				{
					"stopName" : "Narre Warren Railway Station",
					"stopGTFSID" : 19884
				},
				{
					"stopName" : "Hallam Railway Station",
					"stopGTFSID" : 19885
				},
				{
					"stopName" : "Dandenong Railway Station",
					"stopGTFSID" : 19888
				},
				{
					"stopName" : "Yarraman Railway Station",
					"stopGTFSID" : 19889
				},
				{
					"stopName" : "Noble Park Railway Station",
					"stopGTFSID" : 19890
				},
				{
					"stopName" : "Sandown Park Railway Station",
					"stopGTFSID" : 19891
				},
				{
					"stopName" : "Springvale Railway Station",
					"stopGTFSID" : 19913
				},
				{
					"stopName" : "Westall Railway Station",
					"stopGTFSID" : 19914
				},
				{
					"stopName" : "Clayton Railway Station",
					"stopGTFSID" : 19915
				},
				{
					"stopName" : "Huntingdale Railway Station",
					"stopGTFSID" : 19916
				},
				{
					"stopName" : "Oakleigh Railway Station",
					"stopGTFSID" : 19917
				},
				{
					"stopName" : "Hughesdale Railway Station",
					"stopGTFSID" : 19918
				},
				{
					"stopName" : "Murrumbeena Railway Station",
					"stopGTFSID" : 19919
				},
				{
					"stopName" : "Carnegie Railway Station",
					"stopGTFSID" : 19920
				},
				{
					"stopName" : "Caulfield Railway Station",
					"stopGTFSID" : 19943
				},
        {
					"stopName" : "Malvern Railway Station",
					"stopGTFSID" : 19944
				},
				{
					"stopName" : "Armadale Railway Station",
					"stopGTFSID" : 19945
				},
				{
					"stopName" : "Toorak Railway Station",
					"stopGTFSID" : 19946
				},
				{
					"stopName" : "Hawksburn Railway Station",
					"stopGTFSID" : 19947
				},
				{
					"stopName" : "South Yarra Railway Station",
					"stopGTFSID" : 19959
				},
				{
					"stopName" : "Richmond Railway Station",
					"stopGTFSID" : 19908
				},
				{
					"stopName" : "Parliament Railway Station",
					"stopGTFSID" : 19843
				},
				{
					"stopName" : "Melbourne Central Railway Station",
					"stopGTFSID" : 19842
				},
				{
					"stopName" : "Flagstaff Railway Station",
					"stopGTFSID" : 19841
				},
				{
					"stopName" : "Southern Cross Railway Station",
					"stopGTFSID" : 22180
				},
				{
					"stopName" : "Flinders Street Railway Station",
					"stopGTFSID" : 19854
				},
				{
					"stopName" : "Southern Cross Railway Station",
					"stopGTFSID" : 22180
				},
				{
					"stopName" : "Flagstaff Railway Station",
					"stopGTFSID" : 19841
				},
				{
					"stopName" : "Melbourne Central Railway Station",
					"stopGTFSID" : 19842
				},
				{
					"stopName" : "Parliament Railway Station",
					"stopGTFSID" : 19843
				}
			]


let cityLoopStations = ['Southern Cross', 'Parliament', 'Flagstaff', 'Melbourne Central', 'Flinders Street']

function findExpressStops(trip,stops) {
  let {stopTimings} = trip

  stopTimings = stopTimings.filter(stop => {
    return !cityLoopStations.includes(stop.stopName.slice(0, -16))
  })

  let firstStop = stopTimings[0]
  let firstStopGTFSID = firstStop.stopGTFSID
  let lastStop = stopTimings.slice(-1)[0]
  let lastStopGTFSID = lastStop.stopGTFSID
  let stopGTFSIDs = stops.map(e => e.stopGTFSID)

  let firstStopIndex = stopGTFSIDs.indexOf(firstStopGTFSID)
  let lastStopIndex = stopGTFSIDs.indexOf(lastStopGTFSID) + 1
  let relevantStops = stops.slice(firstStopIndex, lastStopIndex)

  let expressParts = []

  let lastMainMatch = 0
  let expressStops = 0

  for (let scheduledStop of stopTimings) {
    let matchIndex = -1

    for (let stop of relevantStops) {
      matchIndex++

      if (stop.stopGTFSID === scheduledStop.stopGTFSID) {
        if (matchIndex !== lastMainMatch) { // there has been a jump - exp section
          let expressPart = relevantStops.slice(lastMainMatch, matchIndex)
          expressParts.push(expressPart)
        }

        lastMainMatch = matchIndex + 1
        break
      }
    }
  }

  return expressParts
}

function determineStoppingPattern(expressParts, destination, stops) {
  if (expressParts.length === 0) return 'Stops All Stations'
  if (expressParts.length === 1 && expressParts[0].length === 1) return 'All Except ' + expressParts[0][0].stopName.slice(0, -16)
  let texts = []

  let stopGTFSIDs = stops.map(e => e.stopGTFSID)

  let lastStop = null

  expressParts.forEach(expressSection => {
    let firstExpressStop = expressSection[0]
    let lastExpressStop = expressSection.slice(-1)[0]

    let previousStop = stops[stopGTFSIDs.indexOf(firstExpressStop.stopGTFSID) - 1]
    let nextStop = stops[stopGTFSIDs.indexOf(lastExpressStop.stopGTFSID) + 1]
    if (lastStop) {
      if (lastStop === previousStop) {
        texts.push(`${previousStop.stopName} to ${nextStop.stopName}`)
      } else {
        texts.push(`Stopping All Stations ${lastStop.stopName} to ${previousStop.stopName}`)
        texts.push(`Running Express from ${previousStop.stopName} to ${nextStop.stopName}`)
      }
    } else {
      texts.push(`Stoping All Stations to ${previousStop.stopName}`)
      texts.push(`Running Express from ${previousStop.stopName} to ${nextStop.stopName}`)
    }

    lastStop = nextStop
  })

  texts.push('Then Stops All to ' + destination)

  return texts.join(', ').replace(/ Railway Station/g, '')
}

let pkmLim = JSON.parse(JSON.stringify(stopsAll))
pkmLim.stopTimings = pkmLim.stopTimings.filter(e => {
  return !['Malvern', 'Armadale', 'Toorak', 'Hawksburn'].includes(e.stopName.slice(0, -16))
})

let pattern = pkmLim
let stops = pkmStops
let expSection = findExpressStops(pattern,stops)
console.log(determineStoppingPattern(expSection, pattern.destination, stops))

function ObjectId(){}
