const { closest } = require('fastest-levenshtein')

let knownStops = [
  "Wallan",
  "Melton",
  "Rockbank",
  "Deer Park",
  "Sunbury",
  "Ardeer",
  "Craigieburn",
  "Southern Cross",
  "Ararat",
  "Bacchus Marsh",
  "Bairnsdale",
  "Ballan",
  "Ballarat",
  "Beaufort",
  "Bendigo",
  "Birregurra",
  "Broadford",
  "Bunyip",
  "Camperdown",
  "Castlemaine",
  "Clarkefield",
  "Colac",
  "Corio",
  "Dingee",
  "Donnybrook",
  "Drouin",
  "Eaglehawk",
  "Echuca",
  "Elmore",
  "Garfield",
  "Geelong",
  "Gisborne",
  "Heathcote Junction",
  "Kangaroo Flat",
  "Kerang",
  "Kilmore East",
  "Kyneton",
  "Lara",
  "Little River",
  "Longwarry",
  "Macedon",
  "Malmsbury",
  "Marshall",
  "Moe",
  "Mooroopna",
  "Morwell",
  "Murchison East",
  "Nagambie",
  "Nar Nar Goon",
  "North Geelong",
  "North Shore",
  "Pyramid",
  "Riddells Creek",
  "Rochester",
  "Rosedale",
  "Sale",
  "Seymour",
  "Shepparton",
  "South Geelong",
  "Stratford",
  "Swan Hill",
  "Tallarook",
  "Terang",
  "Trafalgar",
  "Traralgon",
  "Tynong",
  "Wandong",
  "Warragul",
  "Warrnambool",
  "Winchelsea",
  "Woodend",
  "Yarragon",
  "Flinders Street",
  "North Melbourne",
  "Footscray",
  "Sunshine",
  "Watergardens",
  "Richmond",
  "Caulfield",
  "Clayton",
  "Dandenong",
  "Berwick",
  "Pakenham",
  "Essendon",
  "Broadmeadows",
  "Sherwood Park",
  "Wendouree",
  "Creswick",
  "Clunes",
  "Maryborough",
  "Talbot",
  "Waurn Ponds",
  "Epsom",
  "Wyndham Vale",
  "Tarneit",
  "Cobblebank",
  "Caroline Springs"
]

module.exports = stop => {
  let bareStop = stop.replace(/station/i, '').trim()
  if (knownStops.includes(stop)) return stop
  return closest(stop, knownStops)
}
